{"version":3,"sources":["config.js","auth/index.js","core/cartHelpers.js","core/Menu.js","core/Layout.js","user/Signup.js","core/Copyright.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","core/NotFound.js","Routes.js","index.js"],"names":["API","signout","next","window","localStorage","removeItem","fetch","method","then","response","console","log","catch","err","isAuthenticated","getItem","JSON","parse","itemTotal","length","isActive","history","path","location","pathname","color","textDecoration","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","title","breakpoints","up","display","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","withRouter","classes","React","useState","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","renderMenu","Menu","anchorOrigin","vertical","horizontal","id","keepMounted","transformOrigin","open","onClose","MenuItem","onClick","renderMobileMenu","style","to","IconButton","aria-label","Badge","badgeContent","user","role","cursor","push","className","AppBar","Toolbar","href","Typography","variant","noWrap","aria-controls","aria-haspopup","event","currentTarget","Layout","description","children","paper","marginTop","flexDirection","avatar","margin","secondary","main","form","submit","Signup","name","email","password","error","success","values","setValues","handleChange","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","Container","component","maxWidth","CssBaseline","Avatar","noValidate","Grid","container","item","xs","TextField","autoComplete","onChange","type","required","fullWidth","label","autoFocus","Button","justify","Copyright","Box","mt","mb","align","Link","Date","getFullYear","Signin","loading","redirectToReferrer","signin","setItem","authenticate","FormControlLabel","control","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","url","src","_id","alt","objectFit","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","useHistory","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","find","addItem","productId","i","updateItem","substring","price","category","moment","createdAt","fromNow","quantity","showViewButton","showAddToCartBtn","splice","startIcon","showRemoveButton","showCartUpdateOptions","Search","categories","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","searchMessage","onSubmit","placeholder","searchForm2","key","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","PrivateRoute","Component","rest","render","props","state","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","h","products","purchaseHistory","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","c","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","RadioBox","prices","setValue","Radio","inputProps","array","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","listRelated","match","Checkout","clientToken","instance","address","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","oIndex","borderBottom","index","showStatus","pIndex","border","Profile","update","alert","auth","updateUser","profileUpdate","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","NotFound","gutterBottom","fontSize","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5b1c1c69.chunk.js","sourcesContent":["// export const API = process.env.REACT_APP_API_URL;\r\nexport const API =\r\n  \"http://localhost:5000/api\" || \"https://foodkart-mern.herokuapp.com/\";\r\n","import { API } from '../config';\r\n\r\nexport const signup = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  // console.log(name, email, password);\r\n  return fetch(`${API}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.setItem('jwt', JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('jwt');\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: 'GET',\r\n    })\r\n      .then((response) => {\r\n        console.log('signout', response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window === 'undefined') {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem('jwt')) {\r\n    return JSON.parse(localStorage.getItem('jwt'));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","export const addItem = (item = [], count = 0, next = (f) => f) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n\r\n    // remove duplicates\r\n    // build an Array from new Set and turn it back into array using Array.from\r\n    // so that later we can re-map it\r\n    // new set will only allow unique values in it\r\n    // so pass the ids of each object/product\r\n    // If the loop tries to add the same value again, it'll get ignored\r\n    // ...with the array of ids we got on when first map() was used\r\n    // run map() on it again and return the actual product from the cart\r\n\r\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\r\n      return cart.find((p) => p._id === id);\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n    // return 0;\r\n  }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\")).length;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart[i].count = count;\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n};\r\n\r\nexport const removeItem = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"cart\");\r\n    next();\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\nimport { itemTotal } from \"./cartHelpers\";\r\n\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n// import InputBase from \"@material-ui/core/InputBase\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\n// import MenuIcon from \"@material-ui/icons/Menu\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\n\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\n// import Button from \"@material-ui/core/Button\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport StorefrontIcon from \"@material-ui/icons/Storefront\";\r\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n// import StoreIcon from \"@material-ui/icons/Store\";\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#ff9900\", textDecoration: \"none\" };\r\n  } else {\r\n    return { color: \"#ffffff\", textDecoration: \"none\" };\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"flex\",\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst MaterialAppBar = ({ history }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const menuId = \"primary-search-account-menu\";\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = \"primary-search-account-menu-mobile\";\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <div style={{ backgroundColor: \"#404040\" }}>\r\n        <MenuItem>\r\n          <Link style={isActive(history, \"/\")} to=\"/\">\r\n            <IconButton aria-label=\"Home\" color=\"inherit\">\r\n              <HomeIcon />\r\n            </IconButton>\r\n            Home\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, \"/shop\")} to=\"/shop\">\r\n            <IconButton aria-label=\"Shop\" color=\"inherit\">\r\n              <StorefrontIcon />\r\n            </IconButton>\r\n            Explore\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        <MenuItem>\r\n          <Link style={isActive(history, \"/cart\")} to=\"/cart\">\r\n            <IconButton aria-label=\"Cart\" color=\"inherit\">\r\n              <Badge badgeContent={itemTotal()} color=\"secondary\">\r\n                <ShoppingCartIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            Cart\r\n          </Link>\r\n        </MenuItem>\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, \"/user/dashboard\")}\r\n              to=\"/user/dashboard\"\r\n            >\r\n              <IconButton aria-label=\"Dashboard\" color=\"inherit\">\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n          <MenuItem>\r\n            <Link\r\n              style={isActive(history, \"/admin/dashboard\")}\r\n              to=\"/admin/dashboard\"\r\n            >\r\n              <IconButton aria-label=\"Dashboard\" color=\"inherit\">\r\n                <DashboardIcon />\r\n              </IconButton>\r\n              Dashboard\r\n            </Link>\r\n          </MenuItem>\r\n        )}\r\n\r\n        {!isAuthenticated() && (\r\n          <Fragment>\r\n            <MenuItem>\r\n              <Link style={isActive(history, \"/signin\")} to=\"/signin\">\r\n                <IconButton aria-label=\"Signin\" color=\"inherit\">\r\n                  <AccountCircleIcon />\r\n                </IconButton>\r\n                Signin\r\n              </Link>\r\n            </MenuItem>\r\n\r\n            <MenuItem>\r\n              <Link style={isActive(history, \"/signup\")} to=\"/signup\">\r\n                <IconButton aria-label=\"Signup\" color=\"inherit\">\r\n                  <PersonAddIcon />\r\n                </IconButton>\r\n                Signup\r\n              </Link>\r\n            </MenuItem>\r\n          </Fragment>\r\n        )}\r\n\r\n        {isAuthenticated() && (\r\n          <MenuItem>\r\n            <span\r\n              style={{ cursor: \"pointer\", color: \"#ffffff\" }}\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push(\"/\");\r\n                })\r\n              }\r\n            >\r\n              <IconButton aria-label=\"Signout\" color=\"inherit\">\r\n                <ExitToAppIcon />\r\n              </IconButton>\r\n              Signout\r\n            </span>\r\n          </MenuItem>\r\n        )}\r\n      </div>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          <a href=\"/\" style={{ color: \"#ffffff\", textDecoration: \"none\" }}>\r\n            <Typography className={classes.title} variant=\"h6\" noWrap>\r\n              Food Kart\r\n            </Typography>\r\n          </a>\r\n\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <Link style={isActive(history, \"/\")} to=\"/\">\r\n              <IconButton aria-label=\"Home\" color=\"inherit\">\r\n                <HomeIcon />\r\n                <Typography noWrap>Home</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, \"/shop\")} to=\"/shop\">\r\n              <IconButton aria-label=\"Shop\" color=\"inherit\">\r\n                <StorefrontIcon />\r\n                <Typography noWrap>Explore</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            <Link style={isActive(history, \"/cart\")} to=\"/cart\">\r\n              <IconButton aria-label=\"Cart\" color=\"inherit\">\r\n                <Badge badgeContent={itemTotal()} color=\"secondary\">\r\n                  <ShoppingCartIcon />\r\n                </Badge>\r\n                <Typography noWrap>Cart</Typography>\r\n              </IconButton>\r\n            </Link>\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n              <Link\r\n                style={isActive(history, \"/user/dashboard\")}\r\n                to=\"/user/dashboard\"\r\n              >\r\n                <IconButton aria-label=\"Dashboard\" color=\"inherit\">\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n              <Link\r\n                style={isActive(history, \"/admin/dashboard\")}\r\n                to=\"/admin/dashboard\"\r\n              >\r\n                <IconButton aria-label=\"Dashboard\" color=\"inherit\">\r\n                  <DashboardIcon />\r\n                  <Typography noWrap>Dashboard</Typography>\r\n                </IconButton>\r\n              </Link>\r\n            )}\r\n\r\n            {!isAuthenticated() && (\r\n              <Fragment>\r\n                <Link style={isActive(history, \"/signin\")} to=\"/signin\">\r\n                  <IconButton aria-label=\"Signin\" color=\"inherit\">\r\n                    <AccountCircleIcon />\r\n                    <Typography noWrap>Signin</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n\r\n                <Link style={isActive(history, \"/signup\")} to=\"/signup\">\r\n                  <IconButton aria-label=\"Signup\" color=\"inherit\">\r\n                    <PersonAddIcon />\r\n                    <Typography noWrap>Signup</Typography>\r\n                  </IconButton>\r\n                </Link>\r\n              </Fragment>\r\n            )}\r\n\r\n            {isAuthenticated() && (\r\n              <span\r\n                style={{ cursor: \"pointer\", color: \"#ffffff\" }}\r\n                onClick={() =>\r\n                  signout(() => {\r\n                    history.push(\"/\");\r\n                  })\r\n                }\r\n              >\r\n                <IconButton aria-label=\"Signout\" color=\"inherit\">\r\n                  <ExitToAppIcon />\r\n                  <Typography noWrap>Signout</Typography>\r\n                </IconButton>\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(MaterialAppBar);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n// import \"../index.css\";\r\n\r\nconst Layout = ({\r\n  title = \"Title\",\r\n  description = \"Description\",\r\n  className,\r\n  children,\r\n}) => (\r\n  <div>\r\n    <Menu />\r\n    <div className=\"mt-20\">\r\n      {/* <h5 className=\"\">{title}</h5> */}\r\n      {/* <p className='lead'>{description}</p> */}\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n// import FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n// import Link from '@material-ui/core/Link';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport Layout from \"../core/Layout\";\r\nimport { signup } from \"../auth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signup() {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, success, error } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault(); // so that browser does not reload\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password }).then((data) => {\r\n      if (data.err) {\r\n        setValues({ ...values, error: data.err, success: false });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          error: \"\",\r\n          success: true,\r\n        });\r\n      }\r\n    }); // sending js object\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: success ? \"\" : \"none\" }}\r\n    >\r\n      New account is created. Please <Link to=\"/signin\">Signin</Link>.\r\n    </div>\r\n  );\r\n\r\n  const classes = useStyles();\r\n\r\n  const signUpForm = () => (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      {showSuccess()}\r\n      {showError()}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                autoComplete=\"off\"\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={name}\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"name\"\r\n                label=\"Full Name\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                onChange={handleChange(\"email\")}\r\n                type=\"email\"\r\n                value={email}\r\n                autoComplete=\"off\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                onChange={handleChange(\"password\")}\r\n                value={password}\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={clickSubmit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link to=\"/signin\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Signup page\"\r\n      description=\"Signup to MERN E-commerce App\"\r\n      className=\"container col-md-8 offset-md-2\"\r\n    >\r\n      {signUpForm()}\r\n      {/* <Copyright /> */}\r\n    </Layout>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nexport default function Copyright() {\r\n  return (\r\n    <Box mt={8} mb={4}>\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {\"Copyright  \"}\r\n        <Link color=\"inherit\" href=\"https://github.com/nmbaibhab\">\r\n          N M Baibhab\r\n        </Link>{\" \"}\r\n        {new Date().getFullYear()}\r\n        {\".\"}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport Copyright from \"../core/Copyright\";\r\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signin() {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    redirectToReferrer: false,\r\n  });\r\n\r\n  const { email, password, loading, error, redirectToReferrer } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault(); // so that browser does not reload\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password }).then((data) => {\r\n      if (data.err) {\r\n        setValues({ ...values, error: data.err, loading: false });\r\n      } else {\r\n        authenticate(data, () => {\r\n          setValues({\r\n            ...values,\r\n            redirectToReferrer: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-info\">\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToReferrer) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\" />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const signInForm = () => (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      {showError()}\r\n      {showLoading()}\r\n      {redirectUser()}\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            onChange={handleChange(\"email\")}\r\n            type=\"email\"\r\n            value={email}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            onChange={handleChange(\"password\")}\r\n            value={password}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            onClick={clickSubmit}\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Signin page\"\r\n      description=\"Signin to MERN E-commerce App\"\r\n      className=\"container col-md-8 offset-md-2\"\r\n    >\r\n      {signInForm()}\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n}\r\n","import { API } from '../config';\r\nimport queryString from 'query-string';\r\n\r\nexport const getProducts = (sortBy) => {\r\n  return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n  const data = {\r\n    limit,\r\n    skip,\r\n    filters,\r\n  };\r\n  return fetch(`${API}/products/by/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = (params) => {\r\n  const query = queryString.stringify(params);\r\n  console.log('query', query);\r\n  return fetch(`${API}/products/search?${query}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const read = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listRelated = (productId) => {\r\n  return fetch(`${API}/products/related/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n  return fetch(`${API}/braintree/getToken/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n  return fetch(`${API}/braintree/payment/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentData),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: createOrderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React from \"react\";\r\nimport { API } from \"../config\";\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n  <div className=\"product-img\" style={{ height: \"250px\" }}>\r\n    <img\r\n      src={`${API}/${url}/photo/${item._id}`}\r\n      alt={item.name}\r\n      className=\"mb-3\"\r\n      style={{\r\n        objectFit: \"fill\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n      }}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ShowImage from \"./ShowImage\";\r\nimport moment from \"moment\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CameraIcon from \"@material-ui/icons/PhotoCamera\";\r\nimport CardM from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Link from \"@material-ui/core/Link\";\r\n\r\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\r\n\r\nconst Card = ({\r\n  product,\r\n  showViewProductButton = true,\r\n  showAddToCartButton = true,\r\n  cartUpdate = false,\r\n  showRemoveProductButton = false,\r\n  setRun = (f) => f, // default value of function\r\n  run = undefined, // default value of undefined\r\n}) => {\r\n  let history = useHistory();\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const showViewButton = (showViewProductButton) => {\r\n    return (\r\n      showViewProductButton && (\r\n        <Link href={`/product/${product._id}`} className=\"mr-2\">\r\n          <Button variant=\"contained\" color=\"primary\" className=\"p-2\">\r\n            View Product\r\n          </Button>\r\n        </Link>\r\n      )\r\n    );\r\n  };\r\n\r\n  const addToCart = () => {\r\n    console.log(\"added\");\r\n    addItem(product, setRedirect(true));\r\n    history.push(\"/cart\");\r\n  };\r\n  const showAddToCartBtn = (showAddToCartButton) => {\r\n    return (\r\n      showAddToCartButton && (\r\n        <Button\r\n          onClick={addToCart}\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          className=\"p-2\"\r\n        >\r\n          Add to cart\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showStock = (quantity) => {\r\n    return quantity > 0 ? (\r\n      <span className=\"badge badge-success badge-pill my-2\">In Stock </span>\r\n    ) : (\r\n      <span className=\"badge badge-danger badge-pill\">Out of Stock </span>\r\n    );\r\n  };\r\n\r\n  const handleChange = (productId) => (event) => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = (cartUpdate) => {\r\n    return (\r\n      cartUpdate && (\r\n        <div className=\"mt-2\">\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Adjust Quantity</span>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              value={count}\r\n              onChange={handleChange(product._id)}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveButton = (showRemoveProductButton) => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <Button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          // className={classes.button}\r\n          startIcon={<DeleteIcon />}\r\n        >\r\n          Remove Product\r\n        </Button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card my-3\">\r\n      <ShowImage item={product} url=\"product\" className=\"card-img-top\" />\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{product.name}</h5>\r\n        <p className=\"card-text\">{product.description.substring(0, 50)}</p>\r\n        <p className=\"black-10\">\r\n          <b>Price:  </b>\r\n          {product.price}\r\n        </p>\r\n        <p className=\"black-9\">\r\n          <b>Category: </b>\r\n          {product.category && product.category.name}{\" \"}\r\n        </p>{\" \"}\r\n        <p className=\"black-8\">\r\n          Added on {moment(product.createdAt).fromNow()}{\" \"}\r\n        </p>\r\n        {showStock(product.quantity)}\r\n        <br></br>\r\n        <span>\r\n          {showViewButton(showViewProductButton)}\r\n          {showAddToCartBtn(showAddToCartButton)}\r\n          {showRemoveButton(showRemoveProductButton)}\r\n        </span>\r\n        {showCartUpdateOptions(cartUpdate)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\n// import InputLabel from \"@material-ui/core/InputLabel\";\r\n// import MenuItem from \"@material-ui/core/MenuItem\";\r\n// import FormHelperText from \"@material-ui/core/FormHelperText\";\r\n// import FormControl from \"@material-ui/core/FormControl\";\r\n// import Select from \"@material-ui/core/Select\";\r\n// import TextField from \"@material-ui/core/TextField\";\r\n// import Button from \"@material-ui/core/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport { getCategories, list } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//   formControl: {\r\n//     margin: theme.spacing(1),\r\n//     minWidth: 120,\r\n//   },\r\n//   selectEmpty: {\r\n//     marginTop: theme.spacing(1),\r\n//   },\r\n//   tField: {\r\n//     width: 600,\r\n//     marginTop: 3,\r\n//   },\r\n//   root: {\r\n//     \"& > *\": {\r\n//       margin: theme.spacing(3),\r\n//     },\r\n//   },\r\n// }));\r\n\r\nconst Search = () => {\r\n  const [data, setData] = useState({\r\n    categories: [],\r\n    category: \"\",\r\n    search: \"\",\r\n    results: [],\r\n    searched: false,\r\n  });\r\n\r\n  const { categories, category, search, results, searched } = data;\r\n\r\n  const loadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setData({ ...data, categories: data });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const searchData = () => {\r\n    // console.log(search, category);\r\n    if (search) {\r\n      list({ search: search || undefined, category: category }).then(\r\n        (response) => {\r\n          if (response.error) {\r\n            console.log(response.error);\r\n          } else {\r\n            setData({ ...data, results: response, searched: true });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const searchSubmit = (e) => {\r\n    e.preventDefault();\r\n    searchData();\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setData({ ...data, [name]: event.target.value, searched: false });\r\n  };\r\n\r\n  const searchMessage = (searched, results) => {\r\n    if (searched && results.length > 0) {\r\n      return `Found ${results.length} products`;\r\n    }\r\n    if (searched && results.length < 1) {\r\n      return `Search: No products found`;\r\n    }\r\n  };\r\n\r\n  const searchedProducts = (results = []) => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-1\"></div>\r\n        <div className=\"col-md-10\">\r\n          <h2 className=\"mt-4 mb-4 text-center\">\r\n            {searchMessage(searched, results)}\r\n          </h2>\r\n          <div className=\"row\">\r\n            {results.map((product, i) => (\r\n              <div className=\"col-md-4 mb-3\">\r\n                <Card key={i} product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-1\"></div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // const classes = useStyles();\r\n\r\n  // const searchForm = () => (\r\n  //   <form onSubmit={searchSubmit} className={classes.root}>\r\n  //     <span className=\"input-group-text\">\r\n  //       <div className=\"input-group input-group-lg\">\r\n  //         <div className=\"input-group-prepend\">\r\n  //           <FormControl className={classes.formControl}>\r\n  //             <InputLabel id=\"demo-simple-select-helper-label\">\r\n  //               Select\r\n  //             </InputLabel>\r\n  //             <Select\r\n  //               labelId=\"demo-simple-select-placeholder-label-label\"\r\n  //               id=\"demo-simple-select-placeholder-label\"\r\n  //               value={data.name}\r\n  //               onChange={handleChange(\"category\")}\r\n  //               displayEmpty\r\n  //               // className={classes.selectEmpty}\r\n  //               className=\"dropdown-menu\"\r\n  //             >\r\n  //               <MenuItem value=\"All\">\r\n  //                 <em>All</em>\r\n  //               </MenuItem>\r\n  //               {categories.map((c, i) => (\r\n  //                 <MenuItem key={i} value={c._id}>\r\n  //                   {c.name}\r\n  //                 </MenuItem>\r\n  //               ))}\r\n  //             </Select>\r\n  //           </FormControl>\r\n  //         </div>\r\n\r\n  //         <TextField\r\n  //           onChange={handleChange(\"search\")}\r\n  //           id=\"outlined-basic\"\r\n  //           label={\r\n  //             <span>\r\n  //               <SearchIcon />\r\n  //               Search by name\r\n  //             </span>\r\n  //           }\r\n  //           variant=\"outlined\"\r\n  //           className={classes.tField}\r\n  //           autoComplete=\"off\"\r\n  //         />\r\n\r\n  //         <div className=\"ml-3 mt-2\" style={{ border: \"none\" }}>\r\n  //           <Button ml={2} variant=\"contained\" color=\"primary\" type=\"submit\">\r\n  //             Search\r\n  //           </Button>\r\n  //         </div>\r\n  //       </div>\r\n  //     </span>\r\n  //   </form>\r\n  // );\r\n\r\n  const searchForm2 = () => (\r\n    <div className=\"search-box col-md-12\">\r\n      <form onSubmit={searchSubmit}>\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search your favourite food now!!\"\r\n            className=\"form-control border-3 border-dark rounded\"\r\n            aria-label=\"Search input with dropdown button\"\r\n            onChange={handleChange(\"search\")}\r\n            id=\"outlined-basic\"\r\n            label={\r\n              <span>\r\n                <SearchIcon />\r\n                Search by name\r\n              </span>\r\n            }\r\n            variant=\"outlined\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <div className=\"input-group-append mx-1 border-3 border-success rounded\">\r\n            <button className=\"btn btn-outline-success rounded\" type=\"submit\">\r\n              <b>Search</b>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"\">\r\n      {/* <div className=\"container mb-3\">{searchForm()}</div> */}\r\n      <div className=\"container mb-3\">{searchForm2()}</div>\r\n      <div className=\"container-fluid mb-3\">{searchedProducts(results)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { getProducts } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\nimport Search from \"./Search\";\r\nimport \"fontsource-roboto\";\r\nimport Copyright from \"./Copyright\";\r\n\r\nconst Home = () => {\r\n  const [productsBySell, setProductsBySell] = useState([]);\r\n  const [productsByArrival, setProductsByArrival] = useState([]);\r\n  const [error, setError] = useState([]);\r\n\r\n  const loadProductsBySell = () => {\r\n    getProducts(\"sold\").then((data) => {\r\n      if (data.err) {\r\n        setError(data.error);\r\n      } else {\r\n        setProductsBySell(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadProductsByArrival = () => {\r\n    getProducts(\"createdAt\").then((data) => {\r\n      if (data.err) {\r\n        setError(data.err);\r\n      } else {\r\n        setProductsByArrival(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProductsByArrival();\r\n    loadProductsBySell();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout title=\"Home page\" description=\" \" className=\"container-fluid\">\r\n      <Search />\r\n      <div className=\"row\">\r\n        <div className=\"col-md-1\"></div>\r\n        <div className=\"col-md-10\">\r\n          <h2 className=\"mb-2\">New Arrivals</h2>\r\n          <div className=\"row\">\r\n            {productsByArrival.map((product, i) => (\r\n              <div key={i} className=\"col-xl-4 col-lg-4 col-md-6 col-sm-12\">\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <h2 className=\"mb-2 mt-4\">Best Sellers</h2>\r\n          <div className=\"row\">\r\n            {productsBySell.map((product, i) => (\r\n              <div key={i} className=\"col-xl-4 col-lg-4 col-md-6 col-sm-12\">\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-1\"></div>\r\n      </div>\r\n\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default PrivateRoute;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getPurchaseHistory } from \"./apiUser\";\r\nimport moment from \"moment\";\r\n\r\nconst Dashboard = () => {\r\n  const [history, setHistory] = useState([]);\r\n\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const token = isAuthenticated().token;\r\n\r\n  const init = (userId, token) => {\r\n    getPurchaseHistory(userId, token).then((data) => {\r\n      if (data.err) {\r\n        console.log(data.err);\r\n      } else {\r\n        setHistory(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(_id, token);\r\n  }, []);\r\n\r\n  const userLinks = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header\">User links</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/cart\">\r\n              My cart\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to={`/profile/${_id}`}>\r\n              Update profile\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const userInfo = () => {\r\n    return (\r\n      <div className=\"card mb-5\">\r\n        <h3 className=\"card-header\">User information</h3>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">{name}</li>\r\n          <li className=\"list-group-item\">{email}</li>\r\n          <li className=\"list-group-item\">\r\n            {role === 1 ? \"Admin\" : \"Registered user\"}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const purchaseHistory = (history) => {\r\n    return (\r\n      <div className=\"card mb-5\">\r\n        <h3 className=\"card-header\">Purchase history</h3>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            {history.map((h, i) => {\r\n              return (\r\n                <div>\r\n                  <hr />\r\n                  {h.products.map((p, i) => {\r\n                    return (\r\n                      <div key={i}>\r\n                        <h6>Product name: {p.name}</h6>\r\n                        <h6>Product price: ${p.price}</h6>\r\n                        <h6>Purchased date: {moment(p.createdAt).fromNow()}</h6>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              );\r\n            })}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Dashboard\"\r\n      description={`${name}`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-3\">{userLinks()}</div>\r\n        <div className=\"col-md-9\">\r\n          {userInfo()}\r\n          {purchaseHistory(history)}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { API } from '../config';\r\n\r\nexport const read = (userId, token) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n  if (typeof window !== 'undefined') {\r\n    if (localStorage.getItem('jwt')) {\r\n      let auth = JSON.parse(localStorage.getItem('jwt'));\r\n      auth.user = user;\r\n      localStorage.setItem('jwt', JSON.stringify(auth));\r\n      next();\r\n    }\r\n  }\r\n};\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n  return fetch(`${API}/orders/by/user/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: { from: props.location },\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const adminLinks = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header\">Admin Links</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/category\">\r\n              Create category\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/create/product\">\r\n              Create product\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/admin/orders\">\r\n              View Orders\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link\" to=\"/admin/products\">\r\n              Manage Products\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminInfo = () => {\r\n    return (\r\n      <div className=\"card mb-5\">\r\n        <h3 className=\"card-header\">User information</h3>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <b>Name: </b>\r\n            {name}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <b>Email: </b>\r\n            {email}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <b>User Id: </b>\r\n            {_id}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            {role === 1 ? \"Admin\" : \"Registered user\"}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Dashboard\"\r\n      description={`${name}`}\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-3\">{adminLinks()}</div>\r\n        <div className=\"col-md-9\">{adminInfo()}</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from '../config';\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const listOrders = (userId, token) => {\r\n  return fetch(`${API}/order/list/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n  return fetch(`${API}/order/status-values/${userId}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n  return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ status, orderId }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n/**\r\n * to perform crud on product\r\n * get all products\r\n * get a single product\r\n * update single product\r\n * delete single product\r\n */\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products?limit=undefined`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: 'GET',\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // destructure user and token from localstorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    // make request to api to create category\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.err) {\r\n        setError(data.err);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const newCategoryForm = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n          required\r\n        />\r\n      </div>\r\n      <button className=\"btn btn-outline-primary\">Create Category</button>\r\n    </form>\r\n  );\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <h3 className=\"text-success\">{name} is created</h3>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <h3 className=\"text-danger\">Category should be unique</h3>;\r\n    }\r\n  };\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n        Back to Dashboard\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new category\"\r\n      description={`Hey ${user.name}, ready to add a new category?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createProduct, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddProduct = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    shipping: \"\",\r\n    quantity: \"\",\r\n    photo: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    categories,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    formData,\r\n  } = values;\r\n\r\n  // load categories and set form data\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.err) {\r\n        setValues({ ...values, error: data.err });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.err) {\r\n        setValues({ ...values, error: data.err });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          photo: \"\",\r\n          price: \"\",\r\n          quantity: \"\",\r\n          loading: false,\r\n          createdProduct: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Post Photo</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Description</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Price</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Shipping</label>\r\n        <select onChange={handleChange(\"shipping\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          <option value=\"0\">No</option>\r\n          <option value=\"1\">Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Quantity</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn btn-outline-primary\">Create Product</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdProduct}`} is created!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new product\"\r\n      description={`Hey ${user.name}, ready to add a new product?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState } from 'react';\r\nimport CheckboxM from '@material-ui/core/Checkbox';\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n  const [checked, setCheked] = useState([]);\r\n\r\n  const handleToggle = (c) => () => {\r\n    // return the first index or -1\r\n    const currentCategoryId = checked.indexOf(c);\r\n    const newCheckedCategoryId = [...checked];\r\n    // if currently checked was not already in checked state > push\r\n    // else pull/take off\r\n    if (currentCategoryId === -1) {\r\n      newCheckedCategoryId.push(c);\r\n    } else {\r\n      newCheckedCategoryId.splice(currentCategoryId, 1);\r\n    }\r\n    // console.log(newCheckedCategoryId);\r\n    setCheked(newCheckedCategoryId);\r\n    handleFilters(newCheckedCategoryId);\r\n  };\r\n\r\n  return categories.map((c, i) => (\r\n    <li key={i} className='list-unstyled'>\r\n      <CheckboxM\r\n        onChange={handleToggle(c._id)}\r\n        value={checked.indexOf(c._id === -1)}\r\n      />\r\n      <label className='form-check-label'>{c.name}</label>\r\n    </li>\r\n  ));\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState } from 'react';\r\nimport Radio from '@material-ui/core/Radio';\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event) => {\r\n    handleFilters(event.target.value);\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return prices.map((p, i) => (\r\n    <div className='ml-5' key={i}>\r\n      <Radio\r\n        checked={value === `${p._id}`}\r\n        onChange={handleChange}\r\n        value={`${p._id}`}\r\n        name={p}\r\n        inputProps={{ 'aria-label': 'A' }}\r\n      />\r\n      <label className='form-check-label'>{p.name}</label>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default RadioBox;\r\n","export const prices = [\r\n  {\r\n    _id: 0,\r\n    name: \"Any\",\r\n    array: [],\r\n  },\r\n  {\r\n    _id: 1,\r\n    name: \" 99 to 199\",\r\n    array: [99, 199],\r\n  },\r\n  {\r\n    _id: 2,\r\n    name: \" 199 to 299\",\r\n    array: [199, 299],\r\n  },\r\n  {\r\n    _id: 3,\r\n    name: \" 299 to 499\",\r\n    array: [299, 499],\r\n  },\r\n  {\r\n    _id: 4,\r\n    name: \" 499 to 699\",\r\n    array: [499, 699],\r\n  },\r\n  {\r\n    _id: 5,\r\n    name: \" 699 and above\",\r\n    array: [699, 999],\r\n  },\r\n];\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\n// import Typography from \"@material-ui/core/Typography\";\r\nimport Link from \"@material-ui/core/Link\";\r\n// import Box from \"@material-ui/core/Box\";\r\n// import Button from \"@material-ui/core/Button\";\r\nimport Card from \"./Card\";\r\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport RadioBox from \"./RadioBox\";\r\n// import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Search from \"./Search\";\r\nimport { prices } from \"./fixedPrices\";\r\nimport Copyright from \"./Copyright\";\r\n\r\nconst Shop = () => {\r\n  const [myFilters, setMyFilters] = useState({\r\n    filters: { category: [], price: [] },\r\n  });\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [limit, setLimit] = useState(6);\r\n  const [skip, setSkip] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.err) {\r\n        setError(data.err);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadFilteredResults = (newFilters) => {\r\n    // console.log(newFilters);\r\n    getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n      if (data.err) {\r\n        setError(data.err);\r\n      } else {\r\n        setFilteredResults(data.data);\r\n        setSize(data.size);\r\n        setSkip(0);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    let toSkip = skip + limit;\r\n    // console.log(newFilters);\r\n    getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\r\n      if (data.err) {\r\n        setError(data.err);\r\n      } else {\r\n        setFilteredResults([...filteredResults, ...data.data]);\r\n        setSize(data.size);\r\n        setSkip(toSkip);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMoreButton = () => {\r\n    return (\r\n      size > 0 &&\r\n      size >= limit && (\r\n        <button onClick={loadMore} variant=\"contained\" className=\"btn btn-info\">\r\n          Load more\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    loadFilteredResults(skip, limit, myFilters.filters);\r\n  }, []);\r\n\r\n  const handleFilters = (filters, filterBy) => {\r\n    // console.log(\"SHOP\", filters, filterBy);\r\n    const newFilters = { ...myFilters };\r\n    newFilters.filters[filterBy] = filters;\r\n\r\n    if (filterBy === \"price\") {\r\n      let priceValues = handlePrice(filters);\r\n      newFilters.filters[filterBy] = priceValues;\r\n    }\r\n    loadFilteredResults(myFilters.filters);\r\n    setMyFilters(newFilters);\r\n  };\r\n\r\n  const handlePrice = (value) => {\r\n    const data = prices;\r\n    let array = [];\r\n\r\n    for (let key in data) {\r\n      if (data[key]._id === parseInt(value)) {\r\n        array = data[key].array;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Shop page\"\r\n      description=\"Search and find books\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <Search />\r\n      <div className=\"row\">\r\n        <div className=\"col-md-3\">\r\n          <h4>Categories</h4>\r\n          <ul>\r\n            <Checkbox\r\n              categories={categories}\r\n              handleFilters={(filters) => handleFilters(filters, \"category\")}\r\n            />\r\n          </ul>\r\n\r\n          <h4>Price Range</h4>\r\n          <div>\r\n            <RadioBox\r\n              prices={prices}\r\n              handleFilters={(filters) => handleFilters(filters, \"price\")}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-md-9\">\r\n          <h2 className=\"mb-2\">Products</h2>\r\n          <div className=\"row\">\r\n            {filteredResults.map((product, i) => (\r\n              <div key={i} className=\"col-xl-4 col-lg-6 col-md-12 col-sm-12\">\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <hr />\r\n          {loadMoreButton()}\r\n        </div>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { read, listRelated } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Product = (props) => {\r\n  const [product, setProduct] = useState({});\r\n  const [relatedProduct, setRelatedProduct] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadSingleProduct = (productId) => {\r\n    read(productId).then((data) => {\r\n      if (data.err) {\r\n        setError(data.err);\r\n      } else {\r\n        setProduct(data);\r\n        // fetch related products\r\n        listRelated(data._id).then((data) => {\r\n          if (data.err) {\r\n            setError(data.err);\r\n            console.log(error);\r\n          } else {\r\n            setRelatedProduct(data);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    const productId = props.match.params.productId;\r\n    loadSingleProduct(productId);\r\n  }, [props]);\r\n\r\n  return (\r\n    <Layout\r\n      title={product && product.name}\r\n      description={\r\n        product && product.description && product.description.substring(0, 100)\r\n      }\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\"></div>\r\n        <div className=\"col-md-4 col-sm-12\">\r\n          <h4>Product Details</h4>\r\n          {product && product.description && (\r\n            <Card product={product} showViewProductButton={false} />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"col-md-4\">\r\n          <h4>Related products</h4>\r\n          {relatedProduct.map((p, i) => (\r\n            <div className=\"mb-3\" key={i}>\r\n              <Card product={p} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"col-md-2\"></div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {\r\n  getProducts,\r\n  getBraintreeClientToken,\r\n  processPayment,\r\n  createOrder,\r\n} from \"./apiCore\";\r\nimport { emptyCart } from \"./cartHelpers\";\r\nimport Card from \"./Card\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst Checkout = ({ products, setRun = (f) => f, run = undefined }) => {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {},\r\n    address: \"\",\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  // const getToken = (userId, token) => {\r\n  //   getBraintreeClientToken(userId, token).then((data) => {\r\n  //     if (data.err) {\r\n  //       console.log(data.err);\r\n  //       setData({ ...data, error: data.err });\r\n  //     } else {\r\n  //       console.log(data);\r\n  //       setData({ clientToken: data.clientToken });\r\n  //     }\r\n  //   });\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   getToken(userId, token);\r\n  // }, []);\r\n\r\n  const handleAddress = (event) => {\r\n    setData({ ...data, address: event.target.value });\r\n  };\r\n\r\n  const getTotal = () => {\r\n    return products.reduce((currentValue, nextValue) => {\r\n      return currentValue + nextValue.count * nextValue.price;\r\n    }, 0);\r\n  };\r\n\r\n  const showCheckout = () => {\r\n    return isAuthenticated() ? (\r\n      <div>{showDropIn()}</div>\r\n    ) : (\r\n      <Link to=\"/signin\">\r\n        <Button variant=\"contained\" color=\"primary\">\r\n          Sign in to checkout\r\n        </Button>\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  let deliveryAddress = data.address;\r\n\r\n  const buy = () => {\r\n    setData({ loading: true });\r\n    // send the nonce to your server\r\n    // nonce = data.instance.requestPaymentMethod()\r\n    let nonce;\r\n    let getNonce = data.instance\r\n      .requestPaymentMethod()\r\n      .then((data) => {\r\n        // console.log(data);\r\n        nonce = data.nonce;\r\n        // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\r\n        // and also total to be charged\r\n        // console.log(\r\n        //     \"send nonce and total to process: \",\r\n        //     nonce,\r\n        //     getTotal(products)\r\n        // );\r\n        const paymentData = {\r\n          paymentMethodNonce: nonce,\r\n          amount: getTotal(products),\r\n        };\r\n\r\n        processPayment(userId, token, paymentData)\r\n          .then((response) => {\r\n            console.log(response);\r\n            // empty cart\r\n            // create order\r\n\r\n            const createOrderData = {\r\n              products: products,\r\n              transaction_id: response.transaction.id,\r\n              amount: response.transaction.amount,\r\n              address: deliveryAddress,\r\n            };\r\n\r\n            createOrder(userId, token, createOrderData)\r\n              .then((response) => {\r\n                emptyCart(() => {\r\n                  setRun(!run); // run useEffect in parent Cart\r\n                  console.log(\"payment success and empty cart\");\r\n                  setData({\r\n                    loading: false,\r\n                    success: true,\r\n                  });\r\n                });\r\n              })\r\n              .catch((error) => {\r\n                console.log(error);\r\n                setData({ loading: false });\r\n              });\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            setData({ loading: false });\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        // console.log(\"dropin error: \", error);\r\n        setData({ ...data, error: error.message });\r\n      });\r\n  };\r\n\r\n  const showDropIn = () => (\r\n    <div onBlur={() => setData({ ...data, error: \"\" })}>\r\n      {data.clientToken !== null && products.length > 0 ? (\r\n        <div>\r\n          <div className=\"gorm-group mb-3\">\r\n            <label className=\"text-muted\">Delivery address:</label>\r\n            <textarea\r\n              onChange={handleAddress}\r\n              className=\"form-control\"\r\n              value={data.address}\r\n              placeholder=\"Type your delivery address here...\"\r\n            />\r\n          </div>\r\n\r\n          <DropIn\r\n            options={{\r\n              authorization: data.clientToken,\r\n              paypal: {\r\n                flow: \"vault\",\r\n              },\r\n            }}\r\n            onInstance={(instance) => (data.instance = instance)}\r\n          />\r\n          <button onClick={buy} className=\"btn btn-success btn-block\">\r\n            Pay\r\n          </button>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n\r\n  const showError = (error) => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = (success) => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: success ? \"\" : \"none\" }}\r\n    >\r\n      Thanks! Your payment was successful!\r\n    </div>\r\n  );\r\n\r\n  const showLoading = (loading) =>\r\n    loading && <h2 className=\"text-danger\">Loading...</h2>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Total: ${getTotal()}</h2>\r\n      {showLoading(data.loading)}\r\n      {showSuccess(data.success)}\r\n      {showError(data.err)}\r\n      {showCheckout()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport { getCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport Checkout from './Checkout';\r\n\r\nimport Copyright from './Copyright';\r\n\r\nconst Cart = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [run, setRun] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setItems(getCart());\r\n  }, [run]);\r\n\r\n  const showItems = (items) => {\r\n    return (\r\n      <div>\r\n        <h2>Your cart has {`${items.length}`} items</h2>\r\n        <hr />\r\n        {items.map((product, i) => (\r\n          <Card\r\n            key={i}\r\n            product={product}\r\n            showAddToCartButton={false}\r\n            cartUpdate={true}\r\n            showRemoveProductButton={true}\r\n            setRun={setRun}\r\n            run={run}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const noItemsMessage = () => (\r\n    <h2>\r\n      Your cart is empty. <br /> <Link to='/shop'>Continue shopping</Link>\r\n    </h2>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title='Shopping Cart'\r\n      description='Manage your cart items. Add remove checkout or continue shopping.'\r\n      className='container-fluid'\r\n    >\r\n      <div className='row'>\r\n        <div className='col-md-2'></div>\r\n        <div className='col-md-4'>\r\n          {items.length > 0 ? showItems(items) : noItemsMessage()}\r\n        </div>\r\n        <div className='col-md-4'>\r\n          <h2 className='mb-4'>Your cart summary</h2>\r\n          <hr />\r\n          <Checkout products={items} setRun={setRun} run={run} />\r\n        </div>\r\n        <div className='col-md-2'></div>\r\n      </div>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\r\nimport moment from \"moment\";\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [statusValues, setStatusValues] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadOrders = () => {\r\n    listOrders(user._id, token).then((data) => {\r\n      if (data.err) {\r\n        console.log(data.err);\r\n      } else {\r\n        setOrders(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadStatusValues = () => {\r\n    getStatusValues(user._id, token).then((data) => {\r\n      if (data.err) {\r\n        console.log(data.err);\r\n      } else {\r\n        setStatusValues(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadOrders();\r\n    loadStatusValues();\r\n  }, []);\r\n\r\n  const showOrdersLength = () => {\r\n    if (orders.length > 0) {\r\n      return (\r\n        <h1 className=\"text-danger display-2\">Total orders: {orders.length}</h1>\r\n      );\r\n    } else {\r\n      return <h1 className=\"text-danger\">No orders</h1>;\r\n    }\r\n  };\r\n\r\n  const showInput = (key, value) => (\r\n    <div className=\"input-group mb-2 mr-sm-2\">\r\n      <div className=\"input-group-prepend\">\r\n        <div className=\"input-group-text\">{key}</div>\r\n      </div>\r\n      <input type=\"text\" value={value} className=\"form-control\" readOnly />\r\n    </div>\r\n  );\r\n\r\n  const handleStatusChange = (e, orderId) => {\r\n    updateOrderStatus(user._id, token, orderId, e.target.value).then((data) => {\r\n      if (data.err) {\r\n        console.log(\"Status update failed\");\r\n      } else {\r\n        loadOrders();\r\n      }\r\n    });\r\n    // console.log('update order status');\r\n  };\r\n\r\n  const showStatus = (o) => (\r\n    <div className=\"form-group\">\r\n      <h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n      <select\r\n        className=\"form-control\"\r\n        onChange={(e) => handleStatusChange(e, o._id)}\r\n      >\r\n        <option>Update Status</option>\r\n        {statusValues.map((status, index) => (\r\n          <option key={index} value={status}>\r\n            {status}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Orders\"\r\n      description={`Hey ${user.name}, you can manage all the ordes here`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showOrdersLength()}\r\n\r\n          {orders.map((o, oIndex) => {\r\n            return (\r\n              <div\r\n                className=\"mt-5\"\r\n                key={oIndex}\r\n                style={{ borderBottom: \"5px solid indigo\" }}\r\n              >\r\n                <h2 className=\"mb-5\">\r\n                  <span className=\"bg-primary\">Order ID: {o._id}</span>\r\n                </h2>\r\n\r\n                <ul className=\"list-group mb-2\">\r\n                  <li className=\"list-group-item\">{showStatus(o)}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Transaction ID: {o.transaction_id}\r\n                  </li>\r\n                  <li className=\"list-group-item\">Amount: ${o.amount}</li>\r\n                  <li className=\"list-group-item\">Ordered by: {o.user.name}</li>\r\n                  <li className=\"list-group-item\">\r\n                    Ordered on: {moment(o.createdAt).fromNow()}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Delivery address: {o.address}\r\n                  </li>\r\n                </ul>\r\n\r\n                <h3 className=\"mt-4 mb-4 font-italic\">\r\n                  Total products in the order: {o.products.length}\r\n                </h3>\r\n\r\n                {o.products.map((p, pIndex) => (\r\n                  <div\r\n                    className=\"mb-4\"\r\n                    key={pIndex}\r\n                    style={{ padding: \"20px\", border: \"1px solid indigo\" }}\r\n                  >\r\n                    {showInput(\"Product name\", p.name)}\r\n                    {showInput(\"Product price\", p.price)}\r\n                    {showInput(\"Product total\", p.count)}\r\n                    {showInput(\"Product Id\", p._id)}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { read, update, updateUser } from \"./apiUser\";\r\n\r\nconst Profile = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: false,\r\n    success: false,\r\n  });\r\n\r\n  const { token } = isAuthenticated();\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const init = (userId) => {\r\n    // console.log(userId);\r\n    read(userId, token).then((data) => {\r\n      if (data.err) {\r\n        setValues({ ...values, error: true });\r\n      } else {\r\n        setValues({ ...values, name: data.name, email: data.email });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.userId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (e) => {\r\n    setValues({ ...values, error: false, [name]: e.target.value });\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    update(match.params.userId, token, { name, email, password }).then(\r\n      (data) => {\r\n        if (data.err) {\r\n          // console.log(data.err);\r\n          alert(data.err);\r\n        } else {\r\n          updateUser(data, () => {\r\n            setValues({\r\n              ...values,\r\n              name: data.name,\r\n              email: data.email,\r\n              success: true,\r\n            });\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const redirectUser = (success) => {\r\n    if (success) {\r\n      return <Redirect to=\"/user/dashboard\" />;\r\n    }\r\n  };\r\n\r\n  const profileUpdate = (name, email, password) => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          onChange={handleChange(\"name\")}\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Email</label>\r\n        <input\r\n          type=\"email\"\r\n          onChange={handleChange(\"email\")}\r\n          className=\"form-control\"\r\n          value={email}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Password</label>\r\n        <input\r\n          type=\"password\"\r\n          onChange={handleChange(\"password\")}\r\n          className=\"form-control\"\r\n          value={password}\r\n        />\r\n      </div>\r\n\r\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Profile\"\r\n      description=\"Update your profile\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <h2 className=\"mb-4\">Profile update</h2>\r\n      {profileUpdate(name, email, password)}\r\n      {redirectUser(success)}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const loadProducts = () => {\r\n    getProducts().then((data) => {\r\n      if (data.err) {\r\n        console.log(data.err);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const destroy = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.err) {\r\n        console.log(data.err);\r\n      } else {\r\n        loadProducts();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Manage Products\"\r\n      description=\"Perform CRUD on products\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center\">Total {products.length} products</h2>\r\n          <hr />\r\n          <ul className=\"list-group\">\r\n            {products.map((p, i) => (\r\n              <li\r\n                key={i}\r\n                className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n              >\r\n                <strong>{p.name}</strong>\r\n                <Link to={`/admin/product/update/${p._id}`}>\r\n                  <span className=\"badge badge-warning badge-pill\">Update</span>\r\n                </Link>\r\n                <Link>\r\n                  <span\r\n                    onClick={() => destroy(p._id)}\r\n                    className=\"badge badge-danger badge-pill\"\r\n                  >\r\n                    Delete\r\n                  </span>\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    shipping: \"\",\r\n    quantity: \"\",\r\n    photo: \"\",\r\n    loading: false,\r\n    error: false,\r\n    createdProduct: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    // categories,\r\n    category,\r\n    shipping,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n  } = values;\r\n\r\n  const init = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      if (data.err) {\r\n        setValues({ ...values, error: data.err });\r\n      } else {\r\n        // populate the state\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          shipping: data.shipping,\r\n          quantity: data.quantity,\r\n          formData: new FormData(),\r\n        });\r\n        // load categories\r\n        initCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  // load categories and set form data\r\n  const initCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.err) {\r\n        setValues({ ...values, error: data.err });\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(match.params.productId);\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.err) {\r\n          setValues({ ...values, error: data.err });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            photo: \"\",\r\n            price: \"\",\r\n            quantity: \"\",\r\n            loading: false,\r\n            error: false,\r\n            redirectToProfile: true,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Post Photo</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Description</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Price</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Shipping</label>\r\n        <select onChange={handleChange(\"shipping\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          <option value=\"0\">No</option>\r\n          <option value=\"1\">Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Quantity</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn btn-outline-primary\">Update Product</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdProduct}`} is updated!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToProfile) {\r\n      if (!error) {\r\n        return <Redirect to=\"/\" />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new product\"\r\n      description={`G'day ${user.name}, ready to add a new product?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n          {redirectUser()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { Fragment } from 'react';\r\nimport Layout from './Layout';\r\nimport Copyright from './Copyright';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Layout\r\n      title='Error: 404'\r\n      description='Page Not Found'\r\n      className='container-fluid'\r\n    >\r\n      <Typography variant='h3' gutterBottom>\r\n        <WarningIcon style={{ fontSize: 50, color: '#FF7D00' }} /> Sorry, this page does not\r\n        exist!\r\n      </Typography>\r\n      <Copyright />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Home from './core/Home';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport Dashboard from './user/UserDashboard';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport AdminDashboard from './user/AdminDashboard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddProduct from './admin/AddProduct';\r\nimport Shop from './core/Shop';\r\nimport Product from './core/Product';\r\nimport Cart from './core/Cart';\r\nimport Orders from './admin/Orders';\r\nimport Profile from './user/Profile';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport NotFound from './core/NotFound';\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path='/' component={Home} exact />\r\n        <Route path='/shop' component={Shop} exact />\r\n        <Route path='/signin' component={Signin} exact />\r\n        <Route path='/signup' component={Signup} exact />\r\n        <PrivateRoute path='/user/dashboard' component={Dashboard} exact />\r\n        <AdminRoute path='/admin/dashboard' component={AdminDashboard} exact />\r\n        <AdminRoute path='/create/category' component={AddCategory} exact />\r\n        <AdminRoute path='/create/product' component={AddProduct} exact />\r\n        <Route path='/product/:productId' component={Product} exact />\r\n        <Route path='/cart' component={Cart} exact />\r\n        <AdminRoute path='/admin/orders' component={Orders} exact />\r\n        <PrivateRoute path='/profile/:userId' component={Profile} exact />\r\n        <AdminRoute path='/admin/products' component={ManageProducts} exact />\r\n        <AdminRoute\r\n          path='/admin/product/update/:productId'\r\n          component={UpdateProduct}\r\n          exact\r\n        />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\nReactDOM.render(<Routes />, document.getElementById('root'));\r\n"],"sourceRoot":""}